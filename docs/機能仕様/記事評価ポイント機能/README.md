# 記事評価ポイント機能 - 仕様書

## 📋 概要

MCPを活用して記事に対してポイント評価を行う機能の技術仕様書です。ユーザーがブックマークした記事に対して、複数の評価軸でポイントをつけることができ、記事の価値を定量的に評価・分析できます。

## 📁 ドキュメント構成

| ファイル | 内容 | 対象読者 |
|---------|------|----------|
| [01_概要.md](./01_概要.md) | 機能の背景・目的・位置づけ | 全体 |
| [02_機能要件.md](./02_機能要件.md) | 詳細な機能要件・評価軸設計 | PM・開発者 |
| [03_データモデル.md](./03_データモデル.md) | データベース設計・型定義 | 開発者 |
| [04_MCP設計.md](./04_MCP設計.md) | MCPツール・サーバー設計 | MCP開発者 |
| [05_API設計.md](./05_API設計.md) | REST API仕様・エンドポイント | API開発者 |
| [06_フロントエンド設計.md](./06_フロントエンド設計.md) | UI/UX・コンポーネント設計 | フロントエンド開発者 |
| [07_実装計画.md](./07_実装計画.md) | 開発フェーズ・スケジュール | PM・全開発者 |

## 🎯 主要機能

### 評価軸 (各軸1-10点)
1. **実用性**: 業務・実装で活用できる度合い
2. **技術深度**: 技術的な内容の深さ・専門性  
3. **理解度**: 自分にとっての理解しやすさ
4. **新規性**: 自分にとっての新しさ・発見度
5. **重要度**: 現在の関心・優先度への適合

### 総合スコア
- **計算式**: (実用性 + 技術深度 + 理解度 + 新規性 + 重要度) / 5
- **範囲**: 1.0 ～ 10.0 (小数点第1位まで)

## 🔧 技術スタック

### Backend
- **Database**: SQLite (D1) + 自動計算トリガー
- **API**: Hono + TypeScript + Zod validation
- **MCP**: TypeScript SDK + 6つのツール

### Frontend  
- **Framework**: Next.js + React + TypeScript
- **State**: React Query (TanStack Query)
- **UI**: TailwindCSS + 星評価コンポーネント
- **Charts**: 統計表示用ライブラリ

## 🚀 クイックスタート

### 開発環境セットアップ

```bash
# 1. データベースマイグレーション
cd api
npm run migrate:development

# 2. APIサーバー起動
npm run dev

# 3. MCPサーバー起動  
cd ../mcp
npm run build
npm start

# 4. フロントエンド起動
cd ../frontend
npm run dev
```

### MCPクライアント設定

Claude Desktop の設定ファイルに追加:

```json
{
  "mcpServers": {
    "effective-yomimono": {
      "command": "node",
      "args": ["/path/to/yomimono/mcp/build/index.js"],
      "env": {
        "API_BASE_URL": "http://localhost:8787"
      }
    }
  }
}
```

## 📊 評価機能の使用例

### MCPでの評価追加
```
記事ID 123 に以下で評価:
- 実用性: 8点 (実際のプロジェクトで活用可能)
- 技術深度: 7点 (中級レベルの技術内容)  
- 理解度: 9点 (とても理解しやすい)
- 新規性: 6点 (部分的に新しい内容)
- 重要度: 8点 (現在の業務に関連)
- コメント: "実装例が豊富で参考になった"
```

### UIでの評価表示
- ブックマークカードに ⭐⭐⭐⭐ 7.6 と表示
- 詳細モーダルで各評価軸をレーダーチャート表示
- 統計ページで評価分布・高評価記事一覧

## 🔍 API エンドポイント例

```typescript
// 評価作成
POST /api/bookmarks/123/rating
{
  "practicalValue": 8,
  "technicalDepth": 7,
  "understanding": 9,
  "novelty": 6,
  "importance": 8,
  "comment": "実装例が豊富で参考になった"
}

// 評価一覧取得
GET /api/ratings?sortBy=totalScore&order=desc&limit=20

// 統計情報取得  
GET /api/ratings/stats
```

## 📈 実装スケジュール

| フェーズ | 期間 | 主要成果物 |
|---------|------|----------|
| **Phase 1** | 2週間 | DB + API基盤 + MCP基盤 |
| **Phase 2** | 1週間 | MCP機能完成 |
| **Phase 3** | 2週間 | フロントエンド基本実装 |
| **Phase 4** | 1.5週間 | 統計・分析機能 |
| **Phase 5** | 0.5週間 | 品質向上・デプロイ準備 |

**総開発期間**: 約7週間

## 🎨 UI/UX プレビュー

### ブックマークカード
```
┌─────────────────────────────────────┐
│ 📄 React Hooksの実践的な使い方      │
│ https://example.com/react-hooks    │
│ 2024/06/02                         │
│                                    │
│ ⭐⭐⭐⭐ 7.6   [詳細] [評価追加]  │
└─────────────────────────────────────┘
```

### 評価モーダル
```
┌───────────── 記事を評価 ─────────────┐
│                                      │
│ 総合スコア: ⭐⭐⭐⭐ 7.6             │
│                                      │
│ 実用性     [■■■■■■■■□□] 8      │
│ 技術深度   [■■■■■■■□□□] 7      │  
│ 理解度     [■■■■■■■■■□] 9      │
│ 新規性     [■■■■■■□□□□] 6      │
│ 重要度     [■■■■■■■■□□] 8      │
│                                      │
│ コメント: ┌─────────────────────┐   │
│          │実装例が豊富で...     │   │
│          └─────────────────────┘   │
│                                      │
│          [キャンセル] [保存]          │
└──────────────────────────────────────┘
```

## 🔗 関連リンク

- [LAPRASのMCPサーバー実装](https://zenn.dev/lapras_inc/articles/lapras-mcp-server)
- [Findyの爆速開発支援MCP](https://tech.findy.co.jp/entry/2025/05/12/070000)
- [Model Context Protocol 公式](https://modelcontextprotocol.io/)

## 📞 開発チーム連絡先

| 担当領域 | 担当者 | 連絡方法 |
|---------|--------|----------|
| **プロジェクト管理** | - | GitHub Issues |
| **バックエンド・MCP** | - | GitHub Issues |
| **フロントエンド** | - | GitHub Issues |
| **品質保証** | - | GitHub Issues |

---

**最終更新**: 2025年6月2日  
**ドキュメントバージョン**: 1.0.0  
**対応Issue**: [#530](https://github.com/ryosuke-horie/effective-yomimono/issues/530)