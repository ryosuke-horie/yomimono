# 記事評価ポイント機能 - 機能要件

## 1. 評価軸の設計

### 1.1 評価軸一覧
記事に対して以下の軸でポイント評価を行います（各軸1-10点）：

| 評価軸 | 説明 | 評価基準 |
|-------|------|----------|
| **実用性** | 業務・実装で活用できる度合い | 1点：理論のみ → 10点：すぐに実用可能 |
| **技術深度** | 技術的な内容の深さ・専門性 | 1点：入門レベル → 10点：高度・専門的 |
| **理解度** | 自分にとっての理解しやすさ | 1点：難解 → 10点：完全理解 |
| **新規性** | 自分にとっての新しさ・発見度 | 1点：既知内容 → 10点：全く新しい知識 |
| **重要度** | 現在の関心・優先度への適合 | 1点：関心低 → 10点：最重要 |

### 1.2 総合スコア算出
- **総合スコア** = (実用性 + 技術深度 + 理解度 + 新規性 + 重要度) / 5
- **範囲**: 1.0 ～ 10.0 （小数点第1位まで）

## 2. MCP機能要件

### 2.1 記事評価ツール
```typescript
// MCPツール: rateArticle
{
  articleId: number,           // 記事ID
  practicalValue: number,      // 実用性 (1-10)
  technicalDepth: number,      // 技術深度 (1-10)
  understanding: number,       // 理解度 (1-10)
  novelty: number,            // 新規性 (1-10)
  importance: number,         // 重要度 (1-10)
  comment?: string            // 評価コメント（任意）
}
```

### 2.2 評価取得ツール
```typescript
// MCPツール: getArticleRating
{
  articleId: number           // 記事ID
}
// 戻り値: 評価情報 + 総合スコア
```

### 2.3 評価一覧ツール
```typescript
// MCPツール: getArticleRatings
{
  sortBy?: 'totalScore' | 'createdAt' | 'practicalValue', // ソート軸
  order?: 'asc' | 'desc',    // ソート順
  limit?: number,            // 取得件数
  minScore?: number          // 最小スコア
}
```

### 2.4 評価更新ツール
```typescript
// MCPツール: updateArticleRating
{
  articleId: number,
  // 評価項目（部分更新可能）
  practicalValue?: number,
  technicalDepth?: number,
  understanding?: number,
  novelty?: number,
  importance?: number,
  comment?: string
}
```

## 3. ユーザーインターフェース要件

### 3.1 評価入力UI
- 各評価軸に対するスライダー形式の入力
- リアルタイムでの総合スコア表示
- 評価コメント入力欄
- 保存・キャンセルボタン

### 3.2 評価表示UI
- 記事カードに総合スコア表示
- 評価軸の詳細表示（展開式）
- 評価日時・コメント表示

### 3.3 評価分析UI
- 評価軸別のヒストグラム
- スコア分布グラフ
- 時系列での評価推移
- ラベル別の平均スコア

## 4. 非機能要件

### 4.1 パフォーマンス
- 評価データの取得: 100ms以内
- 評価登録処理: 200ms以内
- 評価一覧表示: 300ms以内

### 4.2 データ整合性
- 評価値の範囲チェック（1-10）
- 必須項目の検証
- 記事IDの存在確認

### 4.3 拡張性
- 新しい評価軸の追加可能性を考慮
- 評価重みづけの将来的な調整
- 他システムへのエクスポート機能

## 5. 制約・前提

### 5.1 制約
- 評価は記事あたり1回まで（更新は可能）
- 評価者は記事のブックマーク登録者のみ
- 評価軸の値は整数のみ

### 5.2 前提
- 既存のMCPサーバー基盤を活用
- 既存のブックマーク・ラベル機能との連携
- 評価データは永続化（削除機能は将来実装）