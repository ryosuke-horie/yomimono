# ext-yomimono 拡張機能

## テスト実行方針
Chrome 拡張機能ディレクトリではテストコマンドの watch モード利用を禁止しており、ワンショット実行のみを採用しています。CI/CD パイプラインおよび開発時のテスト実行では `pnpm run test` でワンショット実行となります。

## デッドコード検出フロー
- `pnpm install` を実行して依存関係をインストールします。
- `pnpm run knip` で未使用の依存関係・ファイル・エクスポートを検出します。
- 問題が検出された場合は出力を確認しながら不要なコードを削除します。自動削除を試す場合は `pnpm knip --fix` と `--allow-remove-files` を組み合わせることで対応可能ですが、削除前に内容の確認を必ず行ってください。

`knip.json` では Chrome 拡張のエントリーポイントに合わせた解析対象と、ビルド生成物 (`dist/**`) の除外、`only-allow` バイナリの除外設定を行っています。
